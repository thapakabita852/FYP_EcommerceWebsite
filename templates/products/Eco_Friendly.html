{% load static %}
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Eco-Friendly - A&K Accessories And Closet</title>
    <link rel="stylesheet" href="{% static 'css/explore.css' %}" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" />
    <script src="{% static 'js/explore.js' %}"></script>
  </head>

  <body>
    <header>
      <nav class="navbar">
        <div class="container">
          <div class="navbar-brand">
            <a href="{% url 'accounts:dashboard' %}"><h1>A&K</h1></a>
          </div>
          <div class="navbar-menu">
            <ul class="navbar-nav">
              <li class="nav-item"><a class="nav-link" href="{% url 'products:clothing' %}">Clothing</a></li>
              <li class="nav-item"><a class="nav-link" href="{% url 'products:accessories' %}">Accessories</a></li>
              <li class="nav-item active"><a class="nav-link" href="{% url 'products:eco_friendly' %}">ECO-Friendly</a></li>
            </ul>
          </div>
        </div>
      </nav>
    </header>

    <section class="hero">
      <div class="container">
        <h2>Go Green with Style</h2>
        <p>Explore our sustainable and eco-friendly products</p>
      </div>
    </section>

    <main class="product-section">
      <div class="container">
        <div class="filter-toggle">
          <button id="filterToggleBtn"><i class="fas fa-filter"></i> Filter & Sort</button>
        </div>

        <div class="content-grid">
          <aside class="filters-sidebar">
            <div class="filters-header">
              <h3>Filters</h3>
              <button class="close-filters"><i class="fas fa-times"></i></button>
            </div>
            <form method="GET" action="{% url 'products:eco_friendly' %}" class="filters-form">

              <div class="filter-group">
                <h4>Sort By</h4>
                <select name="sort_by">
                  <option value="default">Default</option>
                  <option value="price_low">Price: Low to High</option>
                  <option value="price_high">Price: High to Low</option>
                  <option value="newest">Newest Arrivals</option>
                </select>
              </div>

              <div class="filter-group">
                <h4>Category</h4>
                <select name="category">
                  <option value="">All</option>
                  <option value="bags">Reusable Bags</option>
                  <option value="bottles">Water Bottles</option>
                  <option value="apparel">Eco-Friendly Apparel</option>
                </select>
              </div>

              <div class="filter-group">
                <h4>Size</h4>
                <div class="size-options">
                  <label><input type="checkbox" name="size" value="S" /> S</label>
                  <label><input type="checkbox" name="size" value="M" /> M</label>
                  <label><input type="checkbox" name="size" value="L" /> L</label>
                  <label><input type="checkbox" name="size" value="XL" /> XL</label>
                </div>
              </div>

              <div class="filter-group">
                <h4>Sale / New Season</h4>
                <select name="sale_new">
                  <option value="">All</option>
                  <option value="sale">Sale</option>
                  <option value="new">New Season</option>
                </select>
              </div>

              <!-- ðŸŒ± NEW FILTERS FOR ECO-FRIENDLY PRODUCTS -->
              <div class="filter-group">
                <h4>Material</h4>
                <select name="material">
                  <option value="">All</option>
                  <option value="bamboo">Bamboo</option>
                  <option value="recycled_plastic">Recycled Plastic</option>
                  <option value="organic_cotton">Organic Cotton</option>
                </select>
              </div>

              <div class="filter-group">
                <h4>Sustainability Level</h4>
                <select name="sustainability_level">
                  <option value="">All</option>
                  <option value="basic">Basic Eco-Friendly</option>
                  <option value="certified">Certified Sustainable</option>
                  <option value="premium">High-Grade Sustainable</option>
                </select>
              </div>
              <!-- ðŸŒ± END NEW FILTERS -->

              <div class="filter-actions">
                <button type="submit" class="btn btn-primary">Apply Filters</button>
                <button type="reset" class="btn btn-secondary">Clear All</button>
              </div>
            </form>
          </aside>

          <div class="products-grid">
            {% for product in products %}
            <div class="product-card">
              <div class="product-image">
                <img src="{{ product.image.url }}" alt="{{ product.name }}" />
                <div class="product-actions">
                  <button class="wishlist-btn"><i class="far fa-heart"></i></button>
                  <button class="quickview-btn"><i class="fas fa-eye"></i></button>
                </div>
              </div>
              <div class="product-info">
                <h3>{{ product.name }}</h3>
                <p class="price">Rs.{{ product.price }}</p>
                <button class="add-to-cart-btn">Add to Cart</button>
              </div>
            </div>
            {% empty %}
            <div class="no-products">
              <p>No eco-friendly products found.</p>
              <button onclick="resetFilters()">Clear Filters</button>
            </div>
            {% endfor %}
          </div>
        </div>
      </div>
    </main>

    <script>
      function resetFilters() {
        window.location.href = "{% url 'products:eco_friendly' %}";
      }
    </script>
  </body>
</html>
